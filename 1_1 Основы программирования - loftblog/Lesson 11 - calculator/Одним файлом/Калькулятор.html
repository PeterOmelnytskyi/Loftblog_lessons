<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--    <meta name="apple-mobile-web-app-capable" content="yes" />-->
    <title>Simple Calc</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">
    
    
</head>
<body>
    <div class="wrapper">
        <div class="maincontent">
            <div class="container">
                <main class='page'>
                    <div class="container">
                        <div class="page_left">
                            <div class="calc-wrapper">
                                <div class="calc">
                                    <div class="page_display">
                                        <input disabled type="text" value="0" id="display" class="calc_display-input" placeholder="00000000000000">
                                    </div>
                                    <div class="calc_buttons">
                                        <table class="calc_table">
                                            <tr class="calc_buttons-row">
                                                <td>
                                                    <button type="button" id="ce" class="clearBtn btn btn_default btn_hover_red">ce</button>
                                                </td>
                                                <td>
                                                    <button type="button" id="c" class="clearBtn btn btn_default btn_hover_red">c</button>
                                                </td>
                                                <td>
                                                    <button type="button" value="Деление" class="operation btn btn_default btn_hover_blue">/</button>
                                                </td>
                                                <td>
                                                    <button type="button" value="Умножение" class="operation btn btn_default btn_hover_blue">*</button>
                                                </td>
                                            </tr>
                                            <tr class="calc_buttons-row">
                                                <td>
                                                    <button type="button" class="number btn btn_default ">7</button>
                                                </td>
                                                <td>
                                                    <button type="button" class="number btn btn_default ">8</button>
                                                </td>
                                                <td>
                                                    <button type="button" class="number btn btn_default ">9</button>
                                                </td>
                                                <td>
                                                    <button type="button" value="Вычитание" class="operation btn btn_default btn_hover_blue">-</button>
                                                </td>
                                            </tr>
                                            <tr class="calc_buttons-row">
                                                <td>
                                                    <button type="button" class="number btn btn_default ">4</button>
                                                </td>
                                                <td>
                                                    <button type="button"class="number btn btn_default ">5</button>
                                                </td>
                                                <td>
                                                    <button type="button" class="number btn btn_default ">6</button>
                                                </td>
                                                <td>
                                                    <button type="button" value="Сложение" class="operation btn btn_default btn_hover_blue">+</button>
                                                </td>
                                            </tr>
                                            <tr class="calc_buttons-row">
                                                <td>
                                                    <button type="button" class="number btn btn_default ">1</button>
                                                </td>
                                                <td>
                                                    <button type="button" class="number btn btn_default ">2</button>
                                                </td>
                                                <td>
                                                    <button type="button" class="number btn btn_default ">3</button>
                                                </td>
                                                <td rowspan="2">
                                                    <button type="button" value="Результат" id="equal" class="operation btn btn_default btn_hover_blue">=</button>
                                                </td>
                                            </tr>
                                            <tr class="calc_buttons-row">
                                                <td colspan="2">
                                                    <button type="button" id="n0" class="number btn btn_default btn_long">0</button>
                                                </td>
                                                <td>
                                                    <button type="button" class="btn btn_default " id="decimal">.</button>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="page_right">
                            <h1 class="title">
                                Простой калькулятор
                            </h1>
                            <div class="about">
                                <div class="about_btn">
                                    <a href="#" id="howWorkBtn" class="about_btn-link">
                                    Как это работает?
                                </a>
                                </div>
                                <div>
                                    <ul id="operationsList">
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>
    <img src="https://drive.google.com/open?id=18xc1_VQuy2SWYONN-OiB0y-GlaaZkPCo">
    <style type="text/css">
    	body {
    background-image: url("../img/09pXgsGypas.jpg");
}

.container {
    display: flex;
    margin-top: 80px;
}

.calc-wrapper {
    background-color: #f1efef;
    width: 340px;
    height: 410px;
    border-radius: 10px;
    box-shadow: 1px 35px 91px -23px #050505;
    padding-left: 20px;
}

#display {
    background-color: #050505;
    padding: 0px 10px;
    width: 300px;
    font-size: 39px;
    border-radius: 8px;
    margin: 38px 0px;
    color: aliceblue;
    font-family: 'Press Start 2P', cursive;
    text-align: right;
}

::-webkit-input-placeholder {
    color: rgba(193, 193, 193, 0.29);
}

.title {
    color: white;
    font-size: 50px;
    margin: 80px 100px;
}

.about {
    background-color: white;
    width: 220px;
    padding: 8px 20px;
    font-size: 20px;
    border-radius: 23px;
    margin-left: 100px;
    margin-top: -50px;
}

.btn {
    width: 68px;
    height: 42px;
    background-color: #f4f4f4;
    border: 2px solid #e3e3e3;
    border-radius: 6px;
    font-size: 20px;
    text-transform: uppercase;
    padding: 0px;
    color: #5b5c5d;
    cursor: pointer;
    margin: 3px;
}

.btn:hover {
    background-color: #b5b5b5;
}

.btn_hover_red:hover {
    background-color: rgba(235, 53, 53, 0.92);
}

.btn_hover_blue:hover {
    background-color: #2957e0;
}

#n0 {
    width: 145px;
}

#equal {
    height: 92px;
}

    </style>
    
    <script type="text/javascript">
    	var Numbers = document.querySelectorAll('.number'),
    Operations = document.querySelectorAll('.operation'),
    DecimalBtn = document.getElementById('decimal'),
    ClearBtns = document.querySelectorAll('.clearBtn'),
    HowWorkBtn = document.getElementById('howWorkBtn'),
    Display = document.getElementById('display'),
    MemoryCurrentNumber = 0,
    MemoryNewNumber = false,
    MemoryPendingOperation = '',
    operationsList = document.getElementById('operationsList');


for (var i = 0; i < Numbers.length; i++) {
    var number = Numbers[i];
    number.addEventListener('click', function (e) {
        numberPress(e.target.textContent);
    });
}

for (var i = 0; i < Operations.length; i++) {
    var operationBtn = Operations[i];
    operationBtn.addEventListener('click', function (e) {
        operation(e.target.textContent);
    });
}

for (var i = 0; i < ClearBtns.length; i++) {
    var clearBtn = ClearBtns[i];
    clearBtn.addEventListener('click', function (e) {
        clear(e.srcElement.id);
    });
};

DecimalBtn.addEventListener('click', decimal);


HowWorkBtn.addEventListener('click', howWork);


function numberPress(number) {
    if (MemoryNewNumber) {
        display.value = number;
        MemoryNewNumber = false;
    } else {
        if (display.value === '0') {
            display.value = number;
        } else {
            display.value += number;
        };
    };
};

function operation(op) {
    var localOperationMemory = display.value;
    if (MemoryNewNumber && MemoryPendingOperation !== '=') {
        display.value = MemoryCurrentNumber;
    } else {
        MemoryNewNumber = true;
        if (MemoryPendingOperation === '+') {
            MemoryCurrentNumber += parseFloat(localOperationMemory);
        } else if (MemoryPendingOperation === '-') {
            MemoryCurrentNumber -= parseFloat(localOperationMemory);
        } else if (MemoryPendingOperation === '*') {
            MemoryCurrentNumber *= parseFloat(localOperationMemory);
        } else if (MemoryPendingOperation === '/') {
            MemoryCurrentNumber /= parseFloat(localOperationMemory);
        } else {
            MemoryCurrentNumber = parseFloat(localOperationMemory);
        };
        display.value = MemoryCurrentNumber;
        MemoryPendingOperation = op;
    };
};


function clear(id) {
    if (id === 'ce') {
        display.value = '0';
        MemoryNewNumber = true;
    } else if (id === 'c') {
        display.value = '0';
        MemoryNewNumber = true;
        MemoryCurrentNumber = 0;
        MemoryPendingOperation = '';
    };
};

function decimal() {
    var localDecimalMemory = display.value;

    if (MemoryNewNumber) {
        localDecimalMemory = '0.';
        MemoryNewNumber = false;
    } else {
        if (localDecimalMemory.indexOf('.') === -1) {
            localDecimalMemory += '.';
        }
    };
    display.value = localDecimalMemory;
};


function howWork(argument) {
    for (var i = 0; i < Operations.length; i++) {
        var newLi = document.createElement('li');
        var operationText = Operations[i].value;
        newLi.innerText = operationText;
        operationsList.appendChild(newLi);
    };
};

    </script>
</body>
</html>
